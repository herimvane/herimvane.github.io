---
layout: post
title: CSS之层叠
category: CSS
tags: [CSS,Cascading]
comments: true
share: true
---

### 样式的来源
一个页面中样式可以有多种来源，所以层叠就是指浏览器对这些不同来源的样式根据一定的规则最终确定选用那一个样式。样式主要有以下三种来源。

- 浏览器默认的样式
- 用户自定义的样式
- 开发者定义的样式
	+ 外部引入
	+ 页面中内部`<style>`标签定义
	+ 元素上直接style属性定义

### 覆盖顺序
上面的样式来源中，开发者定义的样式会覆盖用户自定义的样式，用户自定义样式会覆盖浏览器默认样式，如果用户自定义样式中指定!important则会覆盖开发者的样式。另外对于开发者样式中style属性优先级高于内部定义的样式，内部定义样式高于外部引入样式。

### 样式继承
一个元素的样式会继承来自父类元素的样式，当然有的样式是不能继承的，如border的样式。同时后代元素的样式优先级高于父类元素。

### 样式的特定性
对于如下的代码中，应该按照特定性来决定采用什么样式。
<script async src="https://jsfiddle.net/HerimVane/va1m63ge/2/embed/html,css,result/"></script>
关于计算特定性，可用三个数字000来表示，具体的规则如下图：

![]({{ relative }}/images/post/css_special.png)

对于上面的代码中
选择器`h1`包含一个元素得到001
选择器`h1#myid`包含一个元素和一个id得到101
选择器`h1.myclass`包含一个元素和一个类得到011
综合下来101&gt;011&gt;001,所以应该选择`h1#myid`定义的样式

### 冲突的样式
最后对于冲突的样式应该按照样式表中定义的顺序来决定，最后定义的样式优先级更高。

